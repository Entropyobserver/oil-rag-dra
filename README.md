# ğŸ›¢ï¸ Oil & Gas RAG System with Dynamic Rank Adaptation (DRA)

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºåŠ¨æ€ç§©é€‚åº”(DRA)æŠ€æœ¯çš„çŸ³æ²¹å¤©ç„¶æ°”å…¬å¸æŠ¥å‘Šæ™ºèƒ½é—®ç­”ç³»ç»Ÿã€‚ç³»ç»Ÿèƒ½å¤Ÿæ ¹æ®æŸ¥è¯¢å¤æ‚åº¦åŠ¨æ€è°ƒæ•´æ¨¡å‹å‚æ•°ï¼Œå®ç°é«˜æ•ˆçš„æ£€ç´¢å¢å¼ºç”Ÿæˆã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ğŸ§  æ™ºèƒ½å‚æ•°è°ƒæ•´**: DRAæŠ€æœ¯å®ç°19.1% F1åˆ†æ•°æå‡
- **ğŸŒ åŒè¯­æ”¯æŒ**: è‹±è¯­å’ŒæŒªå¨è¯­åŒè¯­æ£€ç´¢
- **âš¡ é«˜æ€§èƒ½**: 2,646æŸ¥è¯¢/ç§’çš„å¤„ç†èƒ½åŠ›
- **ğŸ¨ å‹å¥½ç•Œé¢**: Streamlit Webåº”ç”¨
- **ğŸ“Š å®Œæ•´è¯„ä¼°**: å¤šç»´åº¦æ€§èƒ½åˆ†æ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè®¾ç½®
```bash
# åˆ›å»ºç¯å¢ƒ
conda create -n oil_rag python=3.9
conda activate oil_rag

# å®‰è£…ä¾èµ–
cd oil_rag_dra/
pip install -e .
```

### è¿è¡Œç³»ç»Ÿ
```bash
# å¯åŠ¨Webç•Œé¢
streamlit run apps/web/streamlit_app.py

# è¿è¡Œè¯„ä¼°
python "New folder/evaluate_qa_simple.py"

# DRAæ€§èƒ½æµ‹è¯•
python "New folder/dra_enhanced_rag.py"
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | åŸºçº¿ | DRAå¢å¼º | æå‡ |
|------|------|---------|------|
| F1åˆ†æ•° | 0.052 | 0.062 | **+19.1%** |
| å“åº”æ—¶é—´ | 0.028s | 0.031s | -10.7% |
| å¤„ç†èƒ½åŠ› | - | 2,646 q/s | **æ–°å¢** |

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
oil_rag_dra/
â”œâ”€â”€ oil_rag/           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ core/          # RAGç®¡é“å’ŒDRAæ§åˆ¶
â”‚   â”œâ”€â”€ models/        # åŠ¨æ€LoRAæ¨¡å‹
â”‚   â”œâ”€â”€ retrieval/     # æ£€ç´¢ç³»ç»Ÿ
â”‚   â””â”€â”€ evaluation/    # è¯„ä¼°æ¡†æ¶
â”œâ”€â”€ apps/              # åº”ç”¨æ¥å£
â”‚   â”œâ”€â”€ web/          # Streamlitç•Œé¢
â”‚   â””â”€â”€ api/          # REST API
â”œâ”€â”€ data/             # æ•°æ®ç®¡ç†
â”œâ”€â”€ experiments/      # å®éªŒä»£ç 
â””â”€â”€ evaluation_results/ # è¯„ä¼°ç»“æœ
```

## ğŸ”¬ æ ¸å¿ƒæŠ€æœ¯

### Dynamic Rank Adaptation (DRA)
- æŸ¥è¯¢å¤æ‚åº¦åˆ†æ
- ç¥ç»ç½‘ç»œç§©å€¼é¢„æµ‹
- åŠ¨æ€LoRAå‚æ•°è°ƒæ•´

### æ£€ç´¢å¢å¼ºç”Ÿæˆ
- åŒè¯­è¯­ä¹‰æ£€ç´¢
- FAISSå‘é‡ç´¢å¼•
- ä¸Šä¸‹æ–‡æ„ŸçŸ¥ç”Ÿæˆ

## ğŸ“ˆ å®éªŒç»“æœ

è¯¦è§ `evaluation_results/` ç›®å½•ï¼š
- `dra_comprehensive_analysis.json` - å®Œæ•´DRAåˆ†æ
- `f1_improvement_analysis.json` - F1æå‡åˆ†æ
- `commercial_viability_analysis.json` - å•†ä¸šå¯è¡Œæ€§

## ğŸ¤ ç›¸å…³é¡¹ç›®

æœ¬é¡¹ç›®ä¸æœºå™¨ç¿»è¯‘é¡¹ç›®ååŒå·¥ä½œï¼š
- **MTé¡¹ç›®è·¯å¾„**: `../mt_oil/experiments/lora/mt_oli_en_no/`
- **å…±äº«æœ¯è¯­æ•°æ®**: é«˜è´¨é‡è‹±æŒªæœ¯è¯­å¯¹é½
- **ååŒä¼˜åŒ–**: ç¿»è¯‘+æ£€ç´¢åŒé‡å¢å¼º

## ğŸ“š æ–‡æ¡£

- [DRAå®ç°æŠ¥å‘Š](docs/DRA_Implementation_Report.md)
- [é¡¹ç›®æ¶æ„æ¦‚è§ˆ](docs/project_architecture_overview.json)
- [APIæ–‡æ¡£](docs/api_documentation.md)

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç›®å½•ç»“æ„è¯´æ˜
- `New folder/` - ä¸»è¦æ‰§è¡Œè„šæœ¬ï¼ˆå¾…æ•´ç†ï¼‰
- `oil_rag/` - æ ¸å¿ƒæ¨¡å—ä»£ç 
- `apps/` - ç”¨æˆ·ç•Œé¢å’ŒAPI
- `tests/` - å•å…ƒæµ‹è¯•

### ä»£ç è§„èŒƒ
- éµå¾ªPEP 8ä»£ç é£æ ¼
- ä½¿ç”¨ç±»å‹æ³¨è§£
- å®Œæ•´çš„æ–‡æ¡£å­—ç¬¦ä¸²

## âš ï¸ å·²çŸ¥é—®é¢˜

- [ ] é…ç½®æ–‡ä»¶éœ€è¦å®Œå–„
- [ ] `New folder` ä¸­çš„æ–‡ä»¶éœ€è¦é‡æ–°ç»„ç»‡
- [ ] é¡¹ç›®ä¾èµ–å…³ç³»éœ€è¦æ¸…ç†
- [ ] æµ‹è¯•è¦†ç›–ç‡éœ€è¦æå‡

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

**çŠ¶æ€**: ğŸš€ æ´»è·ƒå¼€å‘ä¸­ | **ç‰ˆæœ¬**: v0.1.0 | **æ›´æ–°**: 2025-10-19